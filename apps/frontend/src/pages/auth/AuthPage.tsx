import { Page } from '@/components/Page'
import { useUserRole } from '@/entitites/user/api/user.api'
import { Role } from '@/entitites/user/model/user.type'
import { useBottomSheetStore } from '@/shared/bottom-sheet/model/store.bottom-sheet'
import Loader from '@/shared/loader/ui/Loader'
import Spinner from '@/shared/spinner/Spinner'
import { useSignal, initDataState as _initDataState, initDataUser, hapticFeedback } from '@telegram-apps/sdk-react'
import React, { useState } from 'react'
import { Navigate } from 'react-router-dom'

const AuthPage = () => {
  const user = initDataUser()
  const { open } = useBottomSheetStore()
  const [isButtonLoading, setIsButtonLoading] = useState(false)

  // Проверяем, что пользователь существует и у него есть ID
  const userId = user?.id?.toString()
  const { data: role, isLoading } = useUserRole(userId ?? '')

  console.log('auth page', role, 'user:', user)

  // Если пользователь не найден, показываем сообщение об ошибке
  if (!user || !userId) {
    console.log('User not found or no ID')
    return (
      <div className='flex items-center justify-center min-h-screen'>
        <div className='text-center'>
          <h2 className='font-medium text-xl text-gray-800 dark:text-neutral-200'>Ошибка авторизации</h2>
          <p className='mt-1 text-sm text-gray-500 dark:text-neutral-500'>
            Не удалось получить данные пользователя. Попробуйте перезагрузить страницу.
          </p>
        </div>
      </div>
    )
  }

  if (isLoading) return <Loader />

  console.log(
    'Role check:',
    role,
    'Should redirect to menu:',
    role && (role === Role.ADMIN || role === Role.OWNER || role === Role.IT || role === Role.OPERATOR)
  )

  // Перенаправляем на /menu только если у пользователя есть права доступа
  if (role && (role === Role.ADMIN || role === Role.OWNER || role === Role.IT || role === Role.OPERATOR)) {
    return <Navigate to='/menu' />
  }

  return (
    <>
      {/* ========== HEADER ========== */}
      <header className='flex flex-wrap md:justify-start md:flex-nowrap z-50 bg-white border-b border-gray-200 dark:bg-neutral-900 dark:border-neutral-700'>
        <div className='max-w-[85rem] flex justify-center basis-full items-center w-full mx-auto py-3 px-4 sm:px-6 lg:px-8'>
          <svg
            className='w-16 h-auto'
            width={1450}
            height={1084}
            viewBox='0 0 1450 1084'
            fill='none'
            xmlns='http://www.w3.org/2000/svg'
          >
            <path
              d='M820.848 633.971C826.177 667.239 840.659 757.745 841.317 761.86C842.121 766.916 839.136 771.183 833.187 771.183C808.643 771.183 745.371 771.183 741.837 771.183C737.447 771.183 735.361 766.632 737.944 762.16C740.06 758.501 792.911 666.911 812.06 633.716C816.319 626.341 819.641 626.449 820.848 633.971ZM792.776 597.309C755.303 659.364 618.633 885.651 615.537 890.787C611.945 896.743 612.844 902.92 620.873 902.92C626.001 902.92 639.124 902.92 647.927 902.92C652.895 902.92 658.055 900.212 660.945 895.236C663.301 891.181 696.547 833.941 708.819 812.793C711.623 807.969 716.619 805.021 721.736 805.021C725.92 805.021 807.852 805.021 837.577 805.021C847.068 805.021 849.564 813.517 849.564 813.517C849.564 813.517 860.665 884.383 861.733 891.211C862.801 898.039 866.439 902.92 874.116 902.92C878.316 902.92 887.888 902.92 895.681 902.92C902.113 902.92 906.636 898.221 904.997 889.879C903.54 882.459 861.135 644.132 851.825 591.792C876.875 585.119 898.207 572.327 917.189 551.691C918.82 549.908 922.413 547.692 922.699 552.98C922.831 555.415 923.555 563.112 924.301 570.701C925.173 579.585 930.903 588.315 941.513 588.315C946.944 588.315 974.005 588.315 991.392 588.315C1000.06 588.315 1006.33 581.341 1006.33 569.984C1006.33 522.155 1006.33 396.532 1006.33 385.669C1006.33 372.225 1002.01 361.984 982.199 361.984C943.093 361.984 827.707 361.984 820.023 361.984C806.58 361.984 800.967 367.981 800.967 382.485C800.967 388.128 800.967 409.869 800.967 427.769C800.967 439.067 805.219 450.323 819.012 450.323C826.083 450.323 877.723 450.323 885.977 450.323C889.287 450.323 890.697 452.943 890.288 454.212C881.14 482.385 856.361 498.247 820.993 498.247C764.413 498.247 734.396 460.717 734.396 389.123C734.396 335.431 747.669 273.072 814.641 273.072C840.732 273.068 859.699 282.881 870.787 301.476C874.181 307.169 879.487 320.993 895.593 320.993C906.951 320.993 954.217 320.993 981.087 320.993C998.431 320.993 997.452 304.549 995.388 296.741C974.503 217.632 900.512 167.412 816.955 167.412C693.985 167.412 607.363 256.328 607.363 382.771C607.363 506.549 682.343 592.289 792.776 597.309Z'
              fill='#34B340'
            />
            <path
              d='M118.57 425.412C121.208 425.412 207.844 425.412 207.844 425.412C239.017 425.412 255.76 437.808 255.76 460.532C255.76 483.257 239.596 494.617 207.844 494.617C207.844 494.617 120.718 494.617 118.373 494.617C116.029 494.617 115.315 493.357 115.315 491.185C115.315 477.92 115.315 430.664 115.315 428.861C115.315 426.763 115.933 425.412 118.57 425.412ZM118.042 270.763C120.041 270.763 193.152 270.763 193.152 270.763C221.877 270.763 235.949 281.395 235.949 302.101C235.949 321.135 221.877 332.328 198.783 332.328C198.783 332.328 119.441 332.328 117.842 332.328C116.245 332.328 115.315 331.328 115.315 329.588C115.315 318.148 115.315 274.715 115.315 273.297C115.315 271.661 116.046 270.763 118.042 270.763ZM0.958333 773.891C0.958333 855.557 46.5281 910.596 130.442 910.596C174.101 910.596 204.081 900.051 228.391 874.965C230.215 873.084 234.012 870.663 234.165 876.671C234.261 880.352 234.765 889.359 235.139 895.792C235.373 899.875 238.088 902.92 242.157 902.92C244.375 902.92 250.016 902.92 254.876 902.92C259.296 902.92 263.685 900.021 264.74 894.987C271.281 863.725 294.992 750.421 296.185 745.409C298.043 737.652 295.211 733.291 286.012 733.291C256.961 733.291 176.339 733.291 169.637 733.291C161.507 733.291 157.599 736.584 156.42 742.305C155.761 745.481 154.085 753.071 152.717 759.188C151.635 764.077 153.712 768.021 159.019 768.021C163.445 768.021 226.431 768.021 247.096 768.021C253.821 768.021 252.613 772.089 252.087 774.095C237.041 831.255 206.101 876.304 138.111 876.304C78.1041 876.304 42.9197 837.951 42.9197 772.983C42.9197 692.684 88.0417 610.569 177.817 610.569C223.423 610.569 247.931 629.097 260.02 666.653C262.201 673.431 263.465 680.953 271.604 680.953C276.624 680.953 288.171 680.953 296.28 680.953C304.417 680.953 304.753 673.605 304.396 670.079C300.143 629.083 276.389 601.62 243.129 587.136C312.804 580.961 373.549 549.044 373.549 463.608C373.549 410.484 348.149 378.732 301.967 362.563C333.147 344.088 353.352 320.415 353.352 279.999C353.352 195.125 275.401 177.229 207.272 177.229C207.272 177.229 71.6349 177.229 48.086 177.229C15.8724 177.229 0 196.889 0 219.245C0 241.088 0 457.063 0 546.875C0 572.239 10.9115 588.315 38.1703 588.315C48.7369 588.315 77.8557 588.315 109.526 588.315C42.6344 615.801 0.958333 683.763 0.958333 773.891Z'
              fill='#34B340'
            />
            <path
              d='M407.365 722.445C412.48 698.311 427.277 628.527 428.039 624.933C428.961 620.588 433.059 617.785 437.076 617.785C441.093 617.785 519.336 617.785 519.336 617.785C564.897 617.785 582.491 635.831 582.491 665.615C582.491 722.008 538.275 730.581 493.621 730.581C493.621 730.581 418.079 730.581 412.597 730.581C407.116 730.581 406.289 727.524 407.365 722.445ZM337.333 902.92C345.836 902.92 357.077 902.92 360.356 902.92C365.836 902.92 370.015 898.632 371.603 891.269C372.928 885.131 390.988 801.099 396.967 773.284C398.16 767.729 402.001 764.42 407.849 764.42C413.696 764.42 485.952 764.42 485.952 764.42C520.228 764.42 544.599 765.313 544.599 804.567C544.599 829.844 538.275 855.105 538.275 880.367C538.275 885.599 538.62 889.792 539.307 893.419C539.987 896.992 545.243 902.92 550.723 902.92C554.008 902.92 566.077 902.92 575.216 902.92C581.319 902.92 583.412 896.985 582.533 893.508C581.305 888.635 580.689 883.08 580.689 876.767C580.689 851.944 585.652 827.136 585.652 802.313C585.652 775.251 575.728 759.899 552.721 750.428C597.389 740.052 624.465 710.276 624.465 662.908C624.465 612.633 594.316 590.073 553.108 583.705C553.108 541.939 553.108 227.167 553.108 201.265C553.108 187.177 544.619 177.227 527.612 177.227C506.508 177.227 465.177 177.229 452.136 177.229C437.039 177.229 427.241 185.077 427.241 201.759C427.241 228.652 427.241 532.864 427.241 581.692C416.492 581.692 408.544 581.692 406.283 581.692C394.953 581.692 393.029 590.167 393.029 590.167C393.029 590.167 331.296 883.205 329.671 890.925C328.047 898.645 331.625 902.92 337.333 902.92Z'
              fill='#34B340'
            />
            <path
              d='M941.171 887.948C938.863 898.805 943.547 902.92 949.395 902.92C952.827 902.92 963.064 902.92 970.945 902.92C976.485 902.92 981.909 899.319 983.561 890.069C985.011 881.975 1033.66 651.945 1045.81 594.573C1047.54 586.369 1043.09 581.692 1036.72 581.692C1028.93 581.692 1019.76 581.692 1017.35 581.692C1012.96 581.692 1005.74 584.429 1003.96 592.8C991.779 650.211 943.183 878.479 941.171 887.948Z'
              fill='#34B340'
            />
            <path
              d='M1367.79 581.692C1360.32 581.692 1351.13 581.692 1348.04 581.692C1342.56 581.692 1336.27 586.699 1334.55 595.319C1324.04 647.737 1286.76 833.868 1285.21 841.596C1283.41 850.596 1280.21 851.607 1276.69 843.22C1254.61 790.488 1173.98 597.924 1171.66 592.376C1168.97 585.953 1163.45 581.692 1158.39 581.692C1148.84 581.692 1134.58 581.692 1131.72 581.692C1127.34 581.692 1119.97 587.343 1118.59 593.784C1117.41 599.313 1068.79 826.799 1055.41 889.455C1053.24 899.612 1057.92 902.92 1062.67 902.92C1065.32 902.92 1074.66 902.92 1082.4 902.92C1088.53 902.92 1094.45 898.953 1095.85 891.993C1105.54 843.792 1144.02 652.273 1145.42 645.331C1147.01 637.389 1149.93 635.319 1153.75 644.377C1157.07 652.267 1237.2 842.181 1257.95 891.372C1261.06 898.72 1269.12 902.92 1273.87 902.92C1276.73 902.92 1289.04 902.92 1298.35 902.92C1304.47 902.92 1309.68 898.585 1312.12 889.792C1314.29 882.013 1364.44 646.815 1375.99 592.713C1377.48 585.668 1373.57 581.692 1367.79 581.692Z'
              fill='#34B340'
            />
            <path
              d='M16.7035 1083.28C21.3525 1083.24 25.1712 1082.55 25.1712 1082.55C25.1712 1082.55 1292.93 995.739 1301.04 995.025C1309.16 994.313 1310.79 990.43 1310.79 985.138C1310.79 979.847 1305.93 976.713 1302.11 976.713C1189.49 976.713 24.792 976.713 17.4035 976.713C6.94413 976.713 2.31445 982.002 2.31445 991.244C2.31445 994.197 2.31445 1045.29 2.31445 1067.38C2.31445 1075.14 4.26861 1083.37 16.7035 1083.28Z'
              fill='#34B340'
            />
            <path
              d='M1290.58 231.536C1290.35 232.212 1284.87 248.157 1271.24 255.084C1266.47 257.503 1260.88 258.731 1254.62 258.731C1246.95 258.731 1241.05 256.879 1240.81 256.799C1240.15 256.591 1239.6 256.119 1239.29 255.507C1238.97 254.892 1238.92 254.165 1239.14 253.513C1239.17 253.429 1239.28 253.105 1239.47 252.592C1240.86 248.993 1246.53 236.031 1258.48 229.959C1263.25 227.54 1268.83 226.315 1275.09 226.315C1282.25 226.315 1287.91 227.944 1288.8 228.213C1288.86 228.231 1288.9 228.243 1288.91 228.248C1289.57 228.457 1290.12 228.929 1290.43 229.544C1290.74 230.157 1290.8 230.883 1290.58 231.536ZM1263.83 282.045C1263.71 282.72 1263.32 283.331 1262.75 283.72C1262.72 283.739 1262.65 283.785 1262.54 283.856C1260.94 284.907 1250.71 291.276 1238.72 291.276C1236.8 291.276 1234.91 291.111 1233.1 290.783C1232.36 290.649 1231.64 290.481 1230.93 290.297C1230.83 290.271 1230.73 290.247 1230.63 290.22C1229.93 290.032 1229.24 289.819 1228.56 289.587C1228.5 289.565 1228.44 289.543 1228.38 289.523C1218.94 286.223 1212.14 279.053 1209.3 275.628C1209.26 275.579 1209.23 275.536 1209.19 275.488C1209.03 275.299 1208.89 275.119 1208.76 274.956C1208.74 274.94 1208.73 274.92 1208.71 274.905C1208.71 274.905 1208.71 274.904 1208.71 274.903C1208.2 274.257 1207.91 273.843 1207.84 273.751C1207.62 273.441 1207.16 272.487 1206.33 270.657C1206.32 270.636 1206.3 270.6 1206.28 270.557C1206.28 270.556 1206.28 270.553 1206.28 270.552C1206.05 270.031 1201.65 260.071 1202.57 248.787C1202.8 245.944 1203.37 243.017 1204.42 240.136C1208.54 228.917 1218.72 222.008 1223.29 219.377C1223.47 219.271 1223.64 219.173 1223.81 219.081C1224.14 218.897 1224.42 218.743 1224.67 218.613C1225.16 218.357 1225.46 218.209 1225.55 218.172C1225.86 218.025 1226.19 217.944 1226.53 217.931C1226.88 217.915 1227.22 217.967 1227.54 218.084C1228.19 218.321 1228.72 218.817 1229 219.443C1229.01 219.464 1229.03 219.497 1229.05 219.547C1229.52 220.619 1232.81 228.44 1232.85 237.855C1232.87 241.705 1232.35 245.824 1230.86 249.853C1228.54 256.16 1224.29 261.088 1220.39 264.565C1224.27 263.331 1228.09 262.663 1231.75 262.581C1233.95 262.532 1236.08 262.693 1238.14 263.068C1240.96 263.58 1243.6 264.479 1246.03 265.604C1246.83 265.979 1247.62 266.38 1248.38 266.799C1249.9 267.637 1251.32 268.555 1252.64 269.501C1259.22 274.237 1263.15 279.729 1263.4 280.093C1263.7 280.515 1263.87 281.02 1263.87 281.532C1263.88 281.704 1263.87 281.875 1263.83 282.045ZM1447.85 208.956C1447.6 208.468 1447.29 208.044 1447.03 207.669L1446.81 207.363C1446.77 207.299 1446.73 207.223 1446.68 207.147C1446.52 206.875 1446.39 206.651 1446.24 206.475C1441.37 200.347 1431.48 197.245 1416.8 197.245C1409.55 197.245 1401.12 198.015 1391.76 199.531C1391.29 199.604 1390.83 199.687 1390.35 199.771L1389.4 199.936C1385.63 200.585 1382.24 201.232 1379.04 201.912C1377.99 202.135 1376.89 202.385 1375.8 202.635L1374.72 202.88C1371.67 203.572 1368.57 204.319 1365.49 205.099C1363.57 205.591 1361.61 206.115 1359.61 206.659C1355.69 207.72 1352.11 208.74 1348.64 209.776C1347.47 210.125 1346.28 210.491 1345.09 210.859L1343.76 211.271C1338.96 212.761 1334.6 214.171 1330.44 215.579C1329.38 215.94 1328.28 216.324 1327.2 216.705L1325.98 217.131C1321.59 218.652 1317.56 220.095 1313.66 221.539L1312.83 221.848C1312.21 222.071 1311.57 221.788 1311.38 221.224C1311.22 220.771 1311.37 220.256 1311.76 219.943C1311.95 219.797 1312.36 219.493 1312.76 219.276C1342.35 203.289 1368.72 194.773 1382.88 190.199C1386.89 188.903 1389.79 187.968 1391.41 187.285C1391.72 187.152 1391.99 186.892 1392.11 186.573C1392.24 186.255 1392.23 185.891 1392.09 185.575C1353.35 96.784 1285.19 29.3466 1257.69 4.47595C1254.44 1.54395 1250.63 -0.00672996 1246.64 -0.00672996C1241.85 -0.00672996 1236.91 2.19858 1232.34 6.37192C1211.77 25.1866 1172.08 64.6453 1137.25 117.508C1094.06 183.063 1072.16 247.812 1072.16 309.957C1072.16 320.027 1072.78 330.455 1074 340.952C1074.05 341.4 1074.33 341.783 1074.74 341.973C1075.14 342.16 1075.62 342.128 1075.99 341.887C1089.4 333.16 1106.94 322.779 1126.77 311.84C1126.76 311.832 1126.75 311.817 1126.74 311.809C1126.7 311.764 1126.65 311.703 1126.6 311.64C1126.52 311.551 1126.45 311.465 1126.35 311.344C1126.28 311.257 1126.19 311.155 1126.11 311.051C1126 310.92 1125.9 310.792 1125.78 310.635C1125.68 310.508 1125.57 310.367 1125.46 310.223C1125.33 310.053 1125.2 309.885 1125.05 309.695C1124.93 309.528 1124.8 309.351 1124.67 309.167C1124.52 308.964 1124.37 308.757 1124.22 308.535C1124.07 308.331 1123.93 308.12 1123.78 307.9C1123.62 307.661 1123.46 307.421 1123.29 307.167C1123.13 306.929 1122.98 306.685 1122.82 306.433C1122.65 306.164 1122.48 305.888 1122.3 305.601C1122.14 305.335 1121.98 305.064 1121.81 304.781C1121.64 304.48 1121.46 304.171 1121.29 303.852C1121.12 303.557 1120.96 303.263 1120.8 302.956C1120.62 302.623 1120.45 302.28 1120.27 301.932C1120.12 301.615 1119.96 301.297 1119.8 300.968C1119.63 300.604 1119.47 300.228 1119.3 299.848C1119.15 299.512 1119 299.18 1118.86 298.833C1118.69 298.436 1118.54 298.027 1118.38 297.617C1118.25 297.267 1118.12 296.92 1117.99 296.56C1117.84 296.131 1117.7 295.687 1117.57 295.244C1117.45 294.885 1117.34 294.531 1117.23 294.164C1117.1 293.693 1116.99 293.211 1116.87 292.728C1116.79 292.371 1116.69 292.021 1116.62 291.657C1116.51 291.132 1116.43 290.591 1116.34 290.051C1116.29 289.719 1116.22 289.391 1116.18 289.053C1116.09 288.421 1116.05 287.775 1116 287.128C1115.98 286.872 1115.95 286.621 1115.93 286.364C1115.89 285.449 1115.89 284.523 1115.93 283.587C1116.27 275.947 1119.51 269.233 1122.73 264.369C1125.54 260.113 1128.34 257.275 1129.17 256.468C1129.29 256.353 1129.37 256.28 1129.4 256.249C1129.88 255.803 1130.51 255.557 1131.17 255.557C1131.97 255.592 1132.62 255.893 1133.09 256.413C1133.14 256.479 1133.37 256.735 1133.72 257.16C1136.18 260.136 1144.67 271.464 1144.07 284.837C1144.04 285.5 1143.99 286.155 1143.92 286.801C1143.89 287.013 1143.86 287.22 1143.83 287.429C1143.78 287.867 1143.72 288.301 1143.64 288.731C1143.6 288.967 1143.56 289.2 1143.51 289.435C1143.43 289.837 1143.35 290.236 1143.26 290.632C1143.21 290.86 1143.15 291.087 1143.1 291.311C1142.99 291.728 1142.88 292.137 1142.76 292.544C1142.7 292.735 1142.65 292.927 1142.59 293.113C1142.41 293.692 1142.22 294.264 1142.02 294.824C1142.01 294.831 1142.01 294.839 1142.01 294.847C1141.8 295.416 1141.58 295.975 1141.35 296.524C1141.27 296.701 1141.2 296.873 1141.12 297.049C1140.96 297.42 1140.8 297.788 1140.63 298.148C1140.53 298.344 1140.44 298.536 1140.35 298.729C1140.18 299.065 1140.01 299.397 1139.85 299.724C1139.75 299.911 1139.65 300.095 1139.55 300.277C1139.37 300.619 1139.18 300.952 1138.99 301.283C1138.91 301.432 1138.83 301.585 1138.74 301.733C1138.47 302.2 1138.19 302.659 1137.91 303.101C1137.91 303.104 1137.91 303.105 1137.9 303.108C1137.62 303.557 1137.33 303.991 1137.05 304.413C1136.96 304.547 1136.87 304.672 1136.78 304.803C1136.58 305.089 1136.38 305.372 1136.19 305.644C1136.08 305.788 1135.98 305.927 1135.88 306.068C1135.69 306.32 1135.51 306.565 1135.33 306.805C1135.22 306.937 1135.13 307.068 1135.03 307.196C1134.97 307.268 1134.91 307.344 1134.86 307.415C1145.96 301.395 1157.38 295.416 1168.85 289.613C1168.81 289.56 1168.76 289.483 1168.71 289.424C1168.63 289.313 1168.56 289.208 1168.46 289.077C1168.37 288.944 1168.26 288.796 1168.15 288.643C1168.05 288.499 1167.96 288.363 1167.85 288.203C1167.73 288.029 1167.6 287.833 1167.47 287.64C1167.36 287.468 1167.25 287.308 1167.13 287.121C1166.98 286.893 1166.83 286.641 1166.67 286.393C1166.56 286.211 1166.45 286.043 1166.33 285.849C1166.07 285.403 1165.79 284.929 1165.51 284.428C1165.42 284.277 1165.34 284.111 1165.25 283.956C1165.05 283.584 1164.84 283.209 1164.64 282.811C1164.52 282.591 1164.41 282.355 1164.3 282.127C1164.12 281.768 1163.94 281.411 1163.76 281.033C1163.65 280.777 1163.53 280.508 1163.41 280.243C1163.25 279.871 1163.08 279.499 1162.92 279.111C1162.8 278.825 1162.69 278.531 1162.57 278.236C1162.42 277.847 1162.27 277.453 1162.12 277.051C1162.01 276.743 1161.9 276.429 1161.8 276.112C1161.66 275.703 1161.53 275.288 1161.4 274.865C1161.3 274.537 1161.2 274.209 1161.11 273.876C1160.99 273.444 1160.88 273.005 1160.78 272.563C1160.7 272.223 1160.61 271.884 1160.54 271.537C1160.44 271.08 1160.36 270.615 1160.28 270.147C1160.22 269.801 1160.16 269.461 1160.11 269.111C1160.04 268.617 1159.99 268.115 1159.94 267.612C1159.91 267.275 1159.87 266.943 1159.84 266.603C1159.8 266.041 1159.79 265.471 1159.78 264.9C1159.78 264.609 1159.76 264.323 1159.76 264.029C1159.77 263.161 1159.81 262.284 1159.9 261.4C1161.27 247.112 1172.63 236.627 1174.49 234.995C1174.62 234.887 1174.7 234.817 1174.74 234.788C1175.26 234.349 1175.94 234.133 1176.64 234.195C1177.33 234.261 1177.97 234.604 1178.4 235.137C1178.79 235.619 1186.79 245.6 1187.94 258.181C1188.03 259.191 1188.08 260.216 1188.08 261.253C1188.08 262.188 1188.03 263.132 1187.94 264.083C1187.89 264.659 1187.81 265.228 1187.73 265.792C1187.7 265.977 1187.66 266.16 1187.63 266.344C1187.57 266.721 1187.5 267.096 1187.42 267.468C1187.38 267.679 1187.33 267.888 1187.28 268.097C1187.2 268.437 1187.12 268.777 1187.03 269.112C1186.98 269.324 1186.92 269.535 1186.86 269.743C1186.77 270.079 1186.67 270.412 1186.56 270.743C1186.5 270.937 1186.44 271.131 1186.37 271.323C1186.25 271.688 1186.12 272.048 1185.99 272.405C1185.93 272.553 1185.88 272.705 1185.82 272.852C1185.63 273.353 1185.43 273.845 1185.22 274.329C1185.18 274.416 1185.14 274.499 1185.1 274.584C1184.92 274.984 1184.74 275.38 1184.55 275.769C1184.47 275.932 1184.39 276.091 1184.31 276.252C1184.15 276.559 1184 276.864 1183.84 277.164C1183.75 277.339 1183.65 277.511 1183.56 277.684C1183.4 277.965 1183.24 278.243 1183.08 278.519C1182.99 278.688 1182.89 278.856 1182.79 279.023C1182.62 279.301 1182.45 279.575 1182.28 279.847C1182.19 279.996 1182.09 280.148 1182 280.297C1181.8 280.603 1181.6 280.901 1181.4 281.197C1181.33 281.303 1181.26 281.411 1181.19 281.513C1180.92 281.905 1180.65 282.287 1180.38 282.659C1180.29 282.776 1180.21 282.888 1180.12 283.003C1179.93 283.257 1179.74 283.511 1179.55 283.756C1179.43 283.907 1179.32 284.053 1179.2 284.2C1179.1 284.329 1179 284.464 1178.89 284.589C1182.02 283.041 1185.17 281.493 1188.35 279.953L1188.77 279.739C1188.92 279.661 1189.05 279.596 1189.35 279.459C1190.19 279.068 1191.01 279.308 1191.23 279.949C1191.36 280.311 1191.29 280.861 1190.71 281.319C1190.38 281.579 1190.13 281.687 1189.89 281.793C1189.77 281.847 1189.64 281.903 1189.48 281.993C1186.85 283.499 1184.3 284.96 1181.84 286.379C1182.64 286.245 1183.44 286.145 1184.23 286.055C1184.31 286.045 1184.4 286.029 1184.48 286.021C1185.52 285.909 1186.54 285.835 1187.55 285.795C1187.73 285.787 1187.9 285.792 1188.07 285.787C1188.88 285.764 1189.69 285.759 1190.48 285.781C1190.77 285.789 1191.05 285.808 1191.34 285.823C1192.01 285.856 1192.68 285.903 1193.34 285.969C1193.66 286.001 1193.97 286.04 1194.29 286.079C1194.91 286.159 1195.52 286.255 1196.13 286.365C1196.44 286.421 1196.76 286.476 1197.07 286.54C1197.69 286.671 1198.3 286.825 1198.9 286.989C1199.17 287.06 1199.44 287.123 1199.7 287.201C1200.55 287.455 1201.38 287.736 1202.19 288.057C1212.72 292.251 1219.23 301.783 1222.02 306.704C1222.52 307.591 1222.91 308.335 1223.17 308.864C1223.17 308.867 1223.17 308.869 1223.17 308.872C1223.41 309.36 1223.55 309.671 1223.59 309.751C1223.86 310.38 1223.88 311.107 1223.62 311.748C1223.37 312.389 1222.86 312.909 1222.22 313.176C1221.9 313.312 1214.13 316.539 1204.6 316.539C1199.94 316.539 1195.63 315.761 1191.78 314.225C1191 313.916 1190.24 313.572 1189.51 313.208C1189.45 313.177 1189.38 313.148 1189.32 313.116C1188.62 312.764 1187.95 312.388 1187.29 311.993C1187.2 311.941 1187.11 311.889 1187.02 311.836C1186.38 311.448 1185.76 311.04 1185.17 310.619C1185.07 310.553 1184.98 310.489 1184.89 310.423C1184.3 309.999 1183.72 309.564 1183.17 309.115C1183.09 309.048 1183 308.98 1182.92 308.911C1182.36 308.455 1181.83 307.991 1181.31 307.519C1181.25 307.459 1181.18 307.397 1181.12 307.337C1180.59 306.848 1180.08 306.355 1179.59 305.856C1179.56 305.823 1179.53 305.789 1179.5 305.757C1178.49 304.711 1177.56 303.651 1176.72 302.608C1176.68 302.568 1176.65 302.528 1176.62 302.488C1176.22 301.991 1175.84 301.5 1175.48 301.017C1175.44 300.957 1175.39 300.899 1175.35 300.839C1175 300.368 1174.67 299.908 1174.36 299.457C1174.32 299.391 1174.27 299.327 1174.23 299.261C1173.93 298.816 1173.64 298.384 1173.37 297.967C1173.34 297.908 1173.3 297.852 1173.26 297.795C1173 297.376 1172.75 296.973 1172.52 296.593C1172.5 296.548 1172.47 296.505 1172.45 296.461C1172.21 296.075 1172 295.704 1171.81 295.361C1171.8 295.344 1171.79 295.327 1171.78 295.308C1171.59 294.963 1171.42 294.641 1171.26 294.351C1171.26 294.339 1171.25 294.324 1171.24 294.312C1171.09 294.031 1170.97 293.784 1170.86 293.563C1170.84 293.528 1170.82 293.495 1170.81 293.463C1170.71 293.268 1170.64 293.105 1170.57 292.967C1170.56 292.952 1170.55 292.925 1170.54 292.911C1155.14 301.869 1143.87 308.673 1136.93 313.196C1137.01 313.177 1137.1 313.159 1137.19 313.137C1137.3 313.111 1137.42 313.083 1137.54 313.055C1138.03 312.943 1138.53 312.832 1139.06 312.725C1139.15 312.709 1139.22 312.692 1139.31 312.676C1139.9 312.56 1140.51 312.453 1141.14 312.353C1141.29 312.328 1141.44 312.308 1141.59 312.285C1142.2 312.193 1142.82 312.109 1143.46 312.039C1143.52 312.032 1143.58 312.023 1143.64 312.017C1144.32 311.944 1145.02 311.888 1145.73 311.844C1145.91 311.833 1146.08 311.824 1146.25 311.815C1146.99 311.777 1147.73 311.751 1148.49 311.751C1153.19 311.751 1157.54 312.536 1161.41 314.087C1163.17 314.792 1164.81 315.647 1166.35 316.603C1166.36 316.612 1166.38 316.62 1166.39 316.629C1176.44 322.915 1181.73 333.593 1182.63 335.544C1182.7 335.693 1182.75 335.792 1182.76 335.832C1183.04 336.464 1183.05 337.192 1182.79 337.831C1182.54 338.471 1182.03 338.991 1181.39 339.255C1181.37 339.263 1181.32 339.284 1181.24 339.315C1180.09 339.776 1172.76 342.577 1163.85 342.577C1159.15 342.577 1154.8 341.789 1150.93 340.237C1150.47 340.052 1150.02 339.857 1149.57 339.653C1136.7 333.755 1130.28 320.047 1129.63 318.595C1129.61 318.547 1129.59 318.512 1129.58 318.491C1129.56 318.435 1129.53 318.377 1129.51 318.319C1108.11 333.692 1090.68 348.181 1077.67 361.392C1077.6 361.461 1077.54 361.54 1077.49 361.627L1077.4 361.74C1064.61 374.827 1056.54 386.281 1053.4 395.787L1053.37 395.907C1052.1 399.82 1051.69 403.435 1052.15 406.681L1052.18 406.968C1052.45 408.627 1052.95 410.183 1053.67 411.568C1057.67 419.341 1068.11 423.283 1084.71 423.283C1087.84 423.283 1091.21 423.139 1094.75 422.855L1095.22 422.817L1095.4 423.26C1133.05 517.439 1205.39 589.223 1234.75 615.715C1238.26 618.888 1242.2 620.565 1246.13 620.565H1246.14C1249.96 620.565 1253.75 618.973 1257.09 615.965C1295.29 581.54 1419.93 457.732 1419.93 309.957C1419.93 295.959 1418.75 281.404 1416.39 266.7L1416.33 266.361L1416.59 266.128C1432.84 250.835 1443.23 237.5 1447.44 226.493C1448.01 225.015 1448.44 223.689 1448.75 222.443C1449.99 217.493 1449.76 213.136 1448.07 209.492C1447.99 209.253 1447.92 209.085 1447.85 208.956Z'
              fill='#F7B20C'
            />
          </svg>

          <div className='ms-2'></div>
        </div>
      </header>
      {/* ========== END HEADER ========== */}
      {/* ========== MAIN CONTENT ========== */}
      <main
        id='content'
        className='pb-23 sm:pb-16'
      >
        <div className='py-10 lg:py-20 w-full max-w-[85rem] px-4 sm:px-6 lg:px-8 mx-auto'>
          <div className='w-full max-w-sm mx-auto'>
            <div className='space-y-10'>
              {/* Guest Checkout Details */}
              <div className='space-y-8'>
                <div className='text-center'>
                  <h2 className='font-medium text-xl text-gray-800 dark:text-neutral-200'>Доступ запрещен</h2>
                  <p className='mt-1 text-sm text-gray-500 dark:text-neutral-500'>
                    Чтобы зайти в бот вы должны быть сотрудником компании. За получением разрешения обратитесь к
                    администратору. Администратор должен внести ваш телефон в базу данных. После чего вам необходимо
                    будет авторизоваться в боте.
                  </p>
                </div>
                {/* <button
                  className='py-3 h-13 px-4 relative w-full inline-flex justify-center items-center gap-x-1.5 sm:text-sm font-medium rounded-lg border border-gray-200 bg-white text-gray-800 shadow-2xs hover:bg-gray-50 disabled:opacity-50 disabled:pointer-events-none focus:outline-hidden focus:bg-gray-50 dark:bg-neutral-900 dark:hover:bg-neutral-800 dark:focus:bg-neutral-800 dark:border-neutral-700 dark:text-neutral-300'
                  onClick={handleRequestAccess}
                >
                  {!isButtonLoading && (
                    <>
                      Запросить доступ
                      <svg
                        className='shrink-0 size-4'
                        xmlns='http://www.w3.org/2000/svg'
                        width={24}
                        height={24}
                        viewBox='0 0 24 24'
                        fill='none'
                        stroke='currentColor'
                        strokeWidth={2}
                        strokeLinecap='round'
                        strokeLinejoin='round'
                      >
                        <path d='m9 18 6-6-6-6' />
                      </svg>
                    </>
                  )}

                  {isButtonLoading && <Spinner />}
                </button> */}
              </div>
            </div>
          </div>
        </div>
      </main>
      {/* ========== END MAIN CONTENT ========== */}
      {/* 
      
      
      */}
      {/* ========== FOOTER ========== */}
      {/* <footer className='mt-auto h-23 sm:h-16 absolute bottom-0 inset-x-0 bg-white border-t border-gray-200 dark:bg-neutral-900 dark:border-neutral-700'>
        <div className='w-full max-w-5xl py-6 mx-auto px-4 sm:px-6 lg:px-8'>
          <ul className='flex flex-wrap justify-center items-center whitespace-nowrap gap-3'>
            <li className='inline-flex items-center relative text-xs text-gray-500 pe-3.5 last:pe-0 last:after:hidden after:absolute after:top-1/2 after:end-0 after:inline-block after:size-[3px] after:bg-gray-400 after:rounded-full after:-translate-y-1/2 dark:text-neutral-500 dark:after:bg-neutral-600'>
              © 2025 Preline Labs.
            </li>
            <li className='inline-flex items-center relative text-xs text-gray-500 pe-3.5 last:pe-0 last:after:hidden after:absolute after:top-1/2 after:end-0 after:inline-block after:size-[3px] after:bg-gray-400 after:rounded-full after:-translate-y-1/2 dark:text-neutral-500 dark:after:bg-neutral-600'>
              <a
                className='text-xs text-gray-500 underline-offset-4 hover:underline hover:text-gray-800 focus:outline-hidden focus:underline focus:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200 dark:focus:text-neutral-200'
                href='#'
              >
                Terms
              </a>
            </li>
            <li className='inline-flex items-center relative text-xs text-gray-500 pe-3.5 last:pe-0 last:after:hidden after:absolute after:top-1/2 after:end-0 after:inline-block after:size-[3px] after:bg-gray-400 after:rounded-full after:-translate-y-1/2 dark:text-neutral-500 dark:after:bg-neutral-600'>
              <a
                className='text-xs text-gray-500 underline-offset-4 hover:underline hover:text-gray-800 focus:outline-hidden focus:underline focus:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200 dark:focus:text-neutral-200'
                href='#'
              >
                Privacy
              </a>
            </li>
            <li className='inline-flex items-center relative text-xs text-gray-500 pe-3.5 last:pe-0 last:after:hidden after:absolute after:top-1/2 after:end-0 after:inline-block after:size-[3px] after:bg-gray-400 after:rounded-full after:-translate-y-1/2 dark:text-neutral-500 dark:after:bg-neutral-600'>
              <a
                className='text-xs text-gray-500 underline-offset-4 hover:underline hover:text-gray-800 focus:outline-hidden focus:underline focus:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200 dark:focus:text-neutral-200'
                href='#'
              >
                Your Privacy Choices
              </a>
            </li>
            <li className='inline-flex items-center relative text-xs text-gray-500 pe-3.5 last:pe-0 last:after:hidden after:absolute after:top-1/2 after:end-0 after:inline-block after:size-[3px] after:bg-gray-400 after:rounded-full after:-translate-y-1/2 dark:text-neutral-500 dark:after:bg-neutral-600'>
              <button
                type='button'
                className='hs-dark-mode-active:hidden flex hs-dark-mode items-center gap-x-1.5 text-sm text-gray-500 hover:text-gray-800 focus:outline-hidden focus:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200 dark:focus:text-neutral-200'
                data-hs-theme-click-value='dark'
              >
                <svg
                  className='shrink-0 size-4'
                  xmlns='http://www.w3.org/2000/svg'
                  width={24}
                  height={24}
                  viewBox='0 0 24 24'
                  fill='none'
                  stroke='currentColor'
                  strokeWidth={2}
                  strokeLinecap='round'
                  strokeLinejoin='round'
                >
                  <path d='M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z' />
                </svg>
                <span className='sr-only'>Dark mode</span>
              </button>
              <button
                type='button'
                className='hs-dark-mode-active:flex hidden hs-dark-mode items-center gap-x-1.5 text-sm text-gray-500 hover:text-gray-800 focus:outline-hidden focus:text-gray-800 dark:text-neutral-500 dark:hover:text-neutral-200 dark:focus:text-neutral-200'
                data-hs-theme-click-value='light'
              >
                <svg
                  className='shrink-0 size-4'
                  xmlns='http://www.w3.org/2000/svg'
                  width={24}
                  height={24}
                  viewBox='0 0 24 24'
                  fill='none'
                  stroke='currentColor'
                  strokeWidth={2}
                  strokeLinecap='round'
                  strokeLinejoin='round'
                >
                  <circle
                    cx={12}
                    cy={12}
                    r={4}
                  />
                  <path d='M12 2v2' />
                  <path d='M12 20v2' />
                  <path d='m4.93 4.93 1.41 1.41' />
                  <path d='m17.66 17.66 1.41 1.41' />
                  <path d='M2 12h2' />
                  <path d='M20 12h2' />
                  <path d='m6.34 17.66-1.41 1.41' />
                  <path d='m19.07 4.93-1.41 1.41' />
                </svg>
                <span className='sr-only'>Light mode</span>
              </button>
            </li>
          </ul>
        </div>
      </footer> */}
      {/* ========== END FOOTER ========== */}
    </>
  )
}

export default AuthPage
